sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment"],function(e,o){"use strict";return e.extend("com.sap.myshop.controller.View3",{onInit:function(){var e=this.getOwnerComponent().getModel("cartModel");this.getView().setModel(e)},onAfterRendering:function(){this.updateTotalAmount()},updateTotalAmount:function(){var e=this.getView().getModel("cartModel");var o=e.getProperty("/items");var t=0;o.forEach(function(e){t+=parseInt(e.price)});e.setProperty("/totalAmount",t)},onPlaceOrder:function(){this.getOwnerComponent().getRouter().navTo("RouteView4")},confirmOrder:function(){const e=this.getOwnerComponent().getModel();const o=sap.ui.core.Fragment.byId("com.sap.myshop.view.fragment.CustomerDetail","name");const t=sap.ui.core.Fragment.byId("com.sap.myshop.view.fragment.CustomerDetail","add");const n=sap.ui.core.Fragment.byId("com.sap.myshop.view.fragment.CustomerDetail","mob");const r=sap.ui.core.Fragment.byId("com.sap.myshop.view.fragment.CustomerDetail","pin");if(o&&t&&n&&r){const s=o.getValue();const a=t.getValue();const c=n.getValue();const i=r.getValue();let u={name:s,address:a,mobile:parseInt(c),pin_code:parseInt(i)};e.create("/Customers",u,{success:function(e){MessageBox.success("Order confirmed successfully");console.log("Customer data saved successfully")},error:function(e){MessageBox.error("Error confirming order")}});this._oDialog.close()}else{console.error("One or more input fields are undefined. Check your IDs and ensure the controls exist.")}}})});